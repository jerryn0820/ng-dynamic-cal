var dynamicCal=angular.module("dynamicCal",[]);dynamicCal.directive("calCalendar",["$document","calEventHandler","calDayObject","$timeout",function(a,b,c,d){return{restrict:"E",scope:{events:"=?events",config:"=?config",onViewChange:"=?onViewChange",onEventChange:"=?onEventChange",onEventClick:"=?onEventClick",onTimeSelect:"=?onTimeSelect",loading:"=?loading"},controller:"calCalendarCtrl",templateUrl:"calCalendar.html",link:function(a,b,e,f){console.log("l1");var g=null!=a.config?a.config:{};a.cellHeight=20,a.test=[];var h=new Date;h.setHours(0,0,0,0),a.today=h,a.isDate=function(a){return a.constructor===Date},a.dayEvents=[],a.lastLength=0,a.isSameDay=function(a,b){return a.getDate()==b.getDate()&&a.getMonth()==b.getMonth()&&a.getFullYear()==b.getFullYear()},a.updateEvents=function(b){if(void 0!=a.events){var c=[].concat(a.events);c.sort(function(a,b){var c=a.start.getTime()-b.start.getTime();return 0!=c?c:a.end.getTime()-b.end.getTime()});var d=0,e=a.view.weeks;if(void 0!=e)for(var f=0;f<e.length;f++)for(var g=0;g<e[f].length;g++)if(!e[f][g].isPlaceholder){for(var h=[],i=new Date(e[f][g].date.getFullYear(),e[f][g].date.getMonth(),e[f][g].date.getDate()+1);d<c.length&&c[d].start.getTime()<i.getTime();)a.isSameDay(c[d].start,e[f][g].date)&&h.push(c[d]),d++;e[f][g].setEvents(h)}}},a.count=0,a.$watchCollection("events",function(b,c){console.log("events changed"),a.updateEvents(a.count)},!0),void 0==g.editStep&&(g.editStep=.5),void 0==g.viewStart&&(g.viewStart=0),void 0==g.viewEnd&&(g.viewEnd=24),void 0==g.durration&&(g.durration="week"),void 0==g.type&&(g.type="schedule"),void 0==g.canChangeType&&(g.canChangeType=!0),void 0==g.date&&(g.date=new Date(h)),void 0==g.showHead&&(g.showHead=!0),void 0==g.cellHeight&&(g.cellHeight=20),g.title="",g.startDate=new Date(h),g.endDate=new Date(h),g.today=h,g.months=["January","February","March","April","May","June","July","August","September","October","November","December"],g.daysOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g.prev=function(){this.moveView(-1)},g.next=function(){this.moveView(1)},g.goToToday=function(){console.log(this.today),this.changeDate(this.today)},g.changeDate=function(a){this.date=new Date(a),this.load()},g.moveView=function(a){switch(this.durration){case"month":this.date.setDate(1),this.date.setMonth(this.date.getMonth()+1*a);break;case"day":this.date.setDate(this.date.getDate()+1*a);break;default:this.date.setDate(this.date.getDate()+7*a)}this.load()},g.load=function(b){void 0!=b&&(this.durration=b),this.days=[],this.date.setHours(0,0,0,0);var e=new Date(this.date),f=new Date(this.date);switch(this.durration){case"month":e.setDate(1),f.setMonth(f.getMonth()+1),f.setDate(0),this.title=this.months[e.getMonth()]+" "+e.getFullYear();break;case"day":this.title=e.getTime()==this.today.getTime()?"Today":this.daysOfWeek[e.getDay()]+", "+this.months[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear();break;default:e.setDate(e.getDate()-e.getDay()),f.setDate(f.getDate()+6-f.getDay()),this.title=this.months[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()+" - "+this.months[f.getMonth()]+" "+f.getDate()+", "+f.getFullYear()}var g=this.startDate,h=this.endDate;this.startDate=e,this.endDate=f,console.log("load",e,f);var i=new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()),j=new Date(f.getFullYear(),f.getMonth(),f.getDate()+(6-f.getDay())),k=Math.ceil(((j.getTime()-i.getTime())/1e3/60/60/24+1)/7);1==k&&(i=new Date(e),j=new Date(f)),weekArray=new Array(k);for(var l=new Date(i),m=0;k>m;m++){weekArray[m]=new Array;for(var n=0;7>n&&j>=l;n++)weekArray[m].push(new c(l,!(l>=e&&f>=l))),l.setDate(l.getDate()+1)}if(this.weeks=weekArray,k==this.startDate.getMonth()&&(window.lastWeeks=window.weeks,window.weeks=JSON.stringify(weekArray),console.log("=====",weekArray)),a.updateEvents(-1),(h.getTime()!=this.endDate.getTime()||g.getTime()!=this.startDate.getTime())&&void 0!=a.onViewChange&&a.onViewChange.constructor==Function){var o=this;d(function(){a.onViewChange(o.startDate,o.endDate)},0)}d(function(){a.$apply()})},a.view=g,a.$watch("[view.viewStart, view.viewEnd, view.durration,view.date.getTime()]",function(b,c){console.log("duration changed",b,c),a.view.load(a.view.durration)}),a.view.load()}}}]),dynamicCal.controller("calCalendarCtrl",["$scope",function(a){null==a.config&&(a.config={}),this.calendar=a.config,this.onEventChange=a.onEventChange,this.eventDateChange=function(b){var c=a.view.weeks;if(void 0!=c)for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)c[d][e].removeEvent(b),a.isSameDay(c[d][e].date,b.start)&&c[d][e].addEvent(b)},this.cellHeight=20,console.log("cellHeight",this.cellHeight)}]),dynamicCal.directive("calDay",["$document","calEventHandler",function(a,b){return{restrict:"E",templateUrl:"calDay.html",require:["^calCalendar"],scope:{calendar:"=calendar",day:"=day",onEventClick:"=onEventClick",onEventChange:"=onEventChange",onTimeSelect:"=onTimeSelect",startTime:"=startTime",endTime:"=endTime"},controller:"calDayCtrl",link:function(c,d,e,f){function g(){for(var a=d.find("label"),b=0;b<a.length;b++)if(angular.element(a[b]).hasClass("cal-overlay"))return angular.element(a[b]);for(var c=d.find("div"),b=0;b<c.length;b++)if(r(c[b]).hasClass("cal-container")){var e=r('<label class="cal-overlay" ></label>');return r(c[b]).prepend(e),e}return[]}function h(){(void 0==q||0==q.length)&&(q=g()),q.remove()}function i(a){for(var b=r(a.relatedTarget),c=0;10>c&&!b.hasClass("cal-container");c++)b=b.parent();var e=q.parent();e[0].isSameNode(b[0])||(h(),d.off("mouseup",l),d.off("mousemove",k),d.off("mouseout",i))}function j(){h(),a.off("mousedown",j)}function k(a){var b,d;a.pageY>=s?(b=Math.ceil((a.pageY-s)/c.cellHeight)*c.cellHeight,d=o):(b=Math.ceil((t-a.pageY)/u)*u,d=p-b),q.css("top",d+"px").css("height",b+"px")}function l(b){var e=q[0].offsetTop/u/2+5,f=e+q[0].offsetHeight/u/2,g=new Date(c.date);g.setHours(0,0,0,0),g.setHours(Math.floor(e)),g.setMinutes(e%1*60);var h=new Date(g);h.setHours(Math.floor(f)),h.setMinutes(f%1*60),void 0!=c.onTimeSelect&&c.onTimeSelect.constructor==Function&&c.onTimeSelect(g,h),d.off("mouseup",l),d.off("mousemove",k),d.off("mouseout",i),a.on("mousedown",j)}var m=new Date;m.setHours(0,0,0,0),c.day.date<m&&d.addClass("cal-past"),c.day.date.getTime()==m.getTime()&&d.addClass("cal-today"),c.cellHeight=f[0].cellHeight,c.fullDaysOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c.daysOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var n,o,p,q,r=angular.element;d.on("mousedown",function(a){h()});var s,t,u;d.on("mousedown",function(b){if(a.off("mousedown",j),void 0!=c.onTimeSelect&&c.onTimeSelect.constructor==Function){var e=r(b.target);(e.hasClass("cal-hourMark")||e.hasClass("cal-halfHourMark"))&&(n=b.pageY,s=n-b.offsetY,t=s+b.target.offsetHeight,o=b.target.offsetTop,p=o+b.target.offsetHeight,u=b.target.offsetHeight,q=g(),q.css("top",b.target.offsetTop+"px").css("height",b.target.offsetHeight+"px"),d.on("mouseup",l),d.on("mousemove",k),d.on("mouseout",i))}}),c.$on("CAL-DATE-CHANGE",function(){if(r(d)[0]==r(b.destDayElem)[0]){try{b.event.start.setDate(c.date.getDate()),b.event.start.setMonth(c.date.getMonth()),b.event.start.setYear(c.date.getFullYear()),b.event.end.setDate(c.date.getDate()),b.event.end.setMonth(c.date.getMonth()),b.event.end.setYear(c.date.getFullYear())}catch(a){console.log("Error :(",a)}for(var e=r(b.destDayElem).find("div"),f=0;f<e.length;f++)if(r(e[f]).hasClass("cal-container")){r(e[f]).append(b.eventElem);break}}else r(d)[0]==r(b.srcDayElem)[0]})}}}]),dynamicCal.controller("calDayCtrl",["$scope",function(a){a.date=a.day.date,a.events=a.day.events,this.sortDay=function(){a.day.sort()}}]),dynamicCal.directive("calEvent",["$document","$templateCache","calEventHandler","$timeout",function(a,b,c,d){var e=function(a,b){var c=a.start.getHours()+a.start.getMinutes()/60,d=a.end.getHours()+a.end.getMinutes()/60;0==d&&a.start<a.end&&(d=24);var e=2*(d-c)*b;return 0>=e&&(e=b),e},f=function(a,b,c){var d=a.start.getHours()+a.start.getMinutes()/60;return 2*(d-c)*b};return{restrict:"E",scope:{calendar:"=calendar",event:"=event",onEventClick:"=onEventClick",onEventChange:"=onEventChange",eventLeft:"=eventLeft",eventWidth:"=eventWidth",startTime:"=startTime",endTime:"=endTime"},require:["^calCalendar","^calDay"],template:"<div class='cal-event-wrapper'><ng-include src='templateUrl'></ng-include> <label ng-show='event.edit' class='cal-resize'></label></div>",link:function(g,h,i,j){function k(){r=f(g.event,g.cellHeight,g.startTime),h.css("height",e(g.event,g.cellHeight)+"px"),h.css("top",r+"px"),s=2*g.cellHeight*g.calendar.editStep,h.css("width",g.eventWidth),h.css("left",g.eventLeft)}function l(){function b(a){for(var b=10,c=m(a)[0];b>0&&"CAL-DAY"!=c.tagName;)c=m(c).parent()[0],b--;return"CAL-DAY"!=c.tagName&&(c=m(a).parent()[0]),c}function e(a,d,e,f){console.log("mouseenter");var i=b(a.target),j=b(h);c.dateChange(g.event,h,j,i)}function f(a){h.addClass("cal-dragging"),y=a.pageY-h.parent()[0].offsetTop,x=y-(v-w);var b=x,c=Math.max(g.startTime,Math.ceil(b/(s+0))*g.calendar.editStep+g.startTime),d=(g.event.end.getTime()-g.event.start.getTime())/1e3/60/60;c=Math.min(c,g.endTime-d),g.event.start.setHours(Math.floor(c)),g.event.start.setMinutes(c%1*60),g.event.end.setTime(g.event.start.getTime()+(C.getTime()-B.getTime())),g.$apply()}function i(){return B.getTime()!=g.event.start.getTime()||C.getTime()!=g.event.end.getTime()}function j(){c.isChanging=!0,g.event.start=new Date(B),g.event.end=new Date(C),c.dateChange(g.event,h,null,null),c.isChanging=!1}function k(){if(r(),h.removeClass("cal-dragging").removeClass("cal-resizing"),c.isChanging=!1,i()){if(void 0!=g.onEventChange&&0==g.onEventChange(g.event,B,C))j();else{var b=new Date(c.originStart);b.setHours(0,0,0,0);var d=new Date(g.event.start);d.setHours(0,0,0,0),b.getTime()!=d.getTime()&&n.eventDateChange(g.event)}o.sortDay(),g.$apply()}else void 0!=g.onEventClick&&g.onEventClick.constructor==Function&&g.onEventClick(g.event);a.off("mousemove",l),a.off("mousemove",f),A.off("mouseenter",e),a.off("mouseup",k)}function l(a){h.addClass("cal-resizing");var b=Math.ceil((a.pageY-q)/(s+0))*g.calendar.editStep,c=C.getHours()+C.getMinutes()/60;0==c&&C>g.event.start&&(c=24);var d=c+b;d=Math.max(d,.5),console.log("resizeMousemove",b,d,g.endTime),d<=g.endTime&&(0==g.event.end.getHours()&&0==g.event.end.getMinutes()&&g.event.start<g.event.end&&24!=d&&(console.log("subtract one day",g.event.end),g.event.end.setDate(g.event.end.getDate()-1),console.log("subtract one day",g.event.end)),(0!=g.event.end.getHours()||24!=Math.floor(d))&&g.event.end.setHours(Math.floor(d)),g.event.end.getMinutes()!=d%1*60&&g.event.end.setMinutes(d%1*60),g.$apply())}function p(b){void 0!=g.event.hoverHtml&&(h.hasClass("cal-dragging")||h.hasClass("cal-resizing")||(E=angular.element("<div class='cal-calendar-event-tip'>"+g.event.hoverHtml+"</div>"),a.find("body").eq(0).append(E),a.on("mousemove",t),E.css("top",b.pageY+"px").css("left",b.pageX+10+"px")))}function r(){d.cancel(D),void 0!=E&&(E.off("mouseover",p),E.remove(),a.off("mousemove",t))}function t(a){void 0!=E&&E.css("top",a.pageY+"px").css("left",a.pageX+10+"px")}for(var u=h;"CAL-CALENDAR"!=u[0].tagName&&(u=u.parent(),0!=u.length););var v,w,x,y,z,A=u.find("cal-day"),B=new Date(g.event.start),C=new Date(g.event.end);h.on("click",function(){g.event.edit||i()||void 0==g.onEventClick||g.onEventClick.constructor!=Function||g.onEventClick(g.event)}),h.on("mousedown",function(d){r(),g.event.edit&&"list"!=g.calendar.type&&(c.start(g.event,h),B=new Date(g.event.start),C=new Date(g.event.end),c.isChanging=!0,z=b(h),d.preventDefault(),v=d.pageY-h.parent()[0].offsetTop,w=h[0].offsetTop,A.on("mouseenter",e),a.on("mousemove",f),a.on("mouseup",k))}),h.find("label").on("mousedown",function(b){r(),g.event.edit&&"list"!=g.calendar.type&&(c.isChanging=!0,b.stopPropagation(),q=b.pageY,C=new Date(g.event.end),a.on("mousemove",l),a.on("mouseup",k))});var D;h.on("mouseenter",function(a){p(a)}),h.on("mouseleave",function(a){r(a)});var E}var m=angular.element,n=j[0],o=j[1];if(g.cellHeight=n.calendar.cellHeight,g.templateUrl="calEvent.html",null!=n.calendar.eventTemplateUrl)g.templateUrl=n.calendar.eventTemplateUrl;else if(null!=n.calendar.eventTemplate){var p="calEventTemplate";b.put(p,n.calendar.eventTemplate),g.templateUrl=p}h.addClass("cal-event"),void 0!=g.event.group&&h.addClass("cal-group-"+g.event.group%20);var q=0,r=0;g.$watch("[startTime, endTime]",function(a,b){k()}),g.$watch("[event.start, event.end, eventWidth, eventLeft]",function(a,b){if(k(),!c.isChanging){var d=new Date(b[0]);d.setHours(0,0,0,0);var e=new Date(a[0]);e.setHours(0,0,0,0),e.getTime()!=d.getTime()&&n.eventDateChange(g.event),o.sortDay()}g.event.end.getTime()-g.event.start.getTime()<=0&&g.event.end.setHours(g.event.start.getHours(),g.event.start.getMinutes())},!0);var s=2*g.cellHeight*g.calendar.editStep;console.log("hey"),d(l,0)}}}]),dynamicCal.directive("calHeader",["$templateCache",function(a){return{restrict:"E",template:"<ng-include src='templateUrl'/> ",require:["^calCalendar"],scope:{calendar:"=config"},controller:"calHeaderCtr",link:function(b,c,d,e){var f="calDefaultHeaderUrl";if(void 0!=b.calendar)var g=b.calendar.headerTemplate,h=b.calendar.headerTemplateUrl;(null==h||void 0==h||""==h)&&(null==g||void 0==g||""==g?h="calHeader.html":(a.put(f,g),h=f)),b.templateUrl=h}}}]),dynamicCal.controller("calHeaderCtr",["$scope",function(a){var b=this;a.$watch("calendar",function(){b.calendar=a.calendar})}]),dynamicCal.directive("calPrevious",function(){return{require:["^calHeader"],link:function(a,b,c,d){b.on("click",function(){d[0].calendar.prev()})}}}),dynamicCal.directive("calNext",function(){return{require:["^calHeader"],link:function(a,b,c,d){b.on("click",function(){d[0].calendar.next()})}}}),dynamicCal.directive("calToday",function(){return{require:["^calHeader"],compile:function(a,b){return console.log("IN COMPILE"),function(a,b,c,d){console.log("IN LINK"),b.on("click",function(){a.calendar.today>=a.calendar.startDate&&a.calendar.today<=a.calendar.endDate||(console.log("hey"),d[0].calendar.goToToday(),a.$apply())}),a.calendar=d[0].calendar}}}}),dynamicCal.directive("calTitle",function(){return{require:["^calHeader"],template:"{{ctrl.calendar.title}}",link:function(a,b,c,d){b.on("click",function(){d[0].calendar.today()}),a.ctrl=d[0]}}}),dynamicCal.directive("calViewToggle",function(){return{require:["^calHeader"],link:function(a,b,c,d){a.calListClasses=void 0==c.calListClass?[]:c.calListClass.split(" "),a.calScheduleClasses=void 0==c.calScheduleClass?[]:c.calScheduleClass.split(" "),b.on("click",function(){console.log("hey",d[0].calendar),"list"==a.ctrl.calendar.type?d[0].calendar.type="schedule":a.ctrl.calendar.type="list",a.$apply()}),a.ctrl=d[0],a.$watch("ctrl.calendar.type",function(){if("list"==a.ctrl.calendar.type)for(var c=0;c<a.calListClasses.length;c++)b.addClass(a.calListClasses[c]);else for(var c=0;c<a.calListClasses.length;c++)b.removeClass(a.calListClasses[c]);if("schedule"==a.ctrl.calendar.type)for(var c=0;c<a.calScheduleClasses.length;c++)b.addClass(a.calScheduleClasses[c]);else for(var c=0;c<a.calScheduleClasses.length;c++)b.removeClass(a.calScheduleClasses[c]);console.log("type changed")})}}}),dynamicCal.directive("calDurrationBtn",function(){return{require:["^calHeader"],link:function(a,b,c,d){var e=c.calDurrationBtn.toLowerCase();if("week"!=e&&"day"!=e&&"month"!=e)throw"calDurrationBtn must be either 'month', 'week', or 'day'";a.durration=e,console.log("dur",e,a.durration),a.$watch("durration",function(){console.log("durration changed",a.durration,e)}),a.selectedClasses=void 0==c.calSelectedClass?[]:c.calSelectedClass.split(" "),a.ctrl=d[0],b.on("click",function(){a.ctrl.calendar.durration=e,a.$apply()}),a.$watch("ctrl.calendar.durration",function(){if(console.log(e,a.ctrl.calendar.durration),a.ctrl.calendar.durration==e)for(var c=0;c<a.selectedClasses.length;c++)b.addClass(a.selectedClasses[c]);else for(var c=0;c<a.selectedClasses.length;c++)b.removeClass(a.selectedClasses[c])})}}}),dynamicCal.directive("calWeek",["$document","calEventHandler","$timeout",function(a,b,c){return{restrict:"E",templateUrl:"calWeek.html",scope:{calendar:"=calendar",days:"=days",onEventClick:"=onEventClick",onEventChange:"=onEventChange",onTimeSelect:"=onTimeSelect"},require:["^calCalendar"],link:function(a,b,c,d){a.start=a.calendar.viewStart,a.end=a.calendar.viewEnd,a.cellHeight=d[0].cellHeight;var e=a.end-a.start;a.down=function(){a.end=Math.min(24,a.end+1),a.start=a.end-e},a.up=function(){a.start=Math.max(0,a.start-1),a.end=a.start+e}}}}]),dynamicCal.factory("calDayObject",function(){function a(a){this.event=a,this.location={left:"0%",width:"100%"},this.levelWidth=1}function b(a,b){for(var c=0;c<b.length;c++)if(a.event.start<b[c].event.end&&a.event.end>b[c].event.start)return!0;return!1}function c(a){var c,d,e,f=[];for(d=0;d<a.length;d++){for(c=a[d],e=0;e<f.length&&b(c,f[e]);e++);(f[e]||(f[e]=[])).push(c)}return f}var d=function(a,b){this.date=new Date(a),this.date.setHours(0,0,0,0),this.isPlaceholder=1==b,this.events=[]};d.prototype.setEvents=function(b){if(null==b)this.events=[];else{this.events=new Array(b.length);for(var c=0;c<b.length;c++)this.events[c]=new a(b[c]);this.sort()}},d.prototype.addEvent=function(b){this.events.push(new a(b))},d.prototype.removeEvent=function(a){for(var b=!1,c=0;c<this.events.length;c++)this.events[c].event==a&&(this.events.splice(c,1),b=!0,c--);b&&this.sort()};var e=0;return d.prototype.sort=function(a){if(this.events.length!=e){e=this.events.length;for(var d=0;d<this.events.length;d++)this.events[d].tieBreaker=d}null==a&&(a=!0),a&&this.events.sort(function(a,b){var c=a.event.start.getTime()-b.event.start.getTime();if(0!=c)return c;var d=a.event.end.getTime()-b.event.end.getTime();return 0!=d?d:a.tieBreaker-b.tieBreaker});var f=[].concat(this.events);f.sort(function(a,b){var c=a.event.end.getTime()-a.event.start.getTime(),d=b.event.end.getTime()-b.event.start.getTime();return c!=d?d-c:a.event.start.getTime()-b.event.start.getTime()});for(var g,h=c(f),d=h.length-2;d>=0;d--)for(var i=0;i<h[d].length;i++){for(h[d][i].levelWidth=1,g=d+1;g<h.length&&!b(h[d][i],h[g]);g++);h[d][i].levelWidth=g-d}for(var d=0;d<h.length;d++)for(var i=0;i<h[d].length;i++)h[d][i].location={left:92/h.length*d+4+"%",width:92/h.length*h[d][i].levelWidth+"%"}},d}),dynamicCal.factory("calEventHandler",["$rootScope",function(a){return{event:null,destDayElem:null,srcDayElem:null,eventElem:null,isChanging:!1,originElem:null,originStart:null,originEnd:null,dateChange:function(b,c,d,e){console.log("DATE CHANGE!"),this.event=b,this.srcDayElem=d,this.eventElem=c,this.destDayElem=e,a.$broadcast("CAL-DATE-CHANGE")},start:function(a,b){console.log("START!"),this.originElem=b,this.originStart=new Date(a.start),this.originEnd=new Date(a.end),this.event=a},done:function(){console.log("DONE!"),this.event=null,this.destDayElem=null,this.srcDayElem=null,this.eventElem=null,this.isChanging=!1}}}]),dynamicCal.filter("numberOfWeeks",function(){return function(a,b,c){for(var d=new Date(b.getFullYear(),b.getMonth(),b.getDate()-b.getDay()),e=new Date(c.getFullYear(),c.getMonth(),c.getDate()+(6-c.getDay())),f=(((e.getTime()-d.getTime())/1e3/60/60/24+1)/7,new Array),g=0;4>g;g++)f.push([2,3,4,5,6]);return a=f,f}}),dynamicCal.filter("range",function(){return function(a,b,c,d){var e=b,f=c,g=d;void 0==d&&(g=1),void 0==c&&(e=0,f=b);for(var h=e;f>h;h+=g)a.push(h);return a}}),angular.module("dynamicCal").run(["$templateCache",function(a){"use strict";a.put("calCalendar.html",'<cal-header config="config" ng-show="view.showHead"></cal-header>\r\n\r\n<div class="cal-calendar" ng-class="[view.type + \'View\', view.durration]">\r\n	<cal-week ng-repeat="week in view.weeks" calendar="view" days="week" on-event-click="onEventClick" on-event-change="onEventChange" on-time-select="onTimeSelect"></cal-week>\r\n</div>\r\n\r\n'),a.put("calDay.html",'<div class="cal-day-header">\r\n	<div>\r\n		<span class="dayOfWeek">{{daysOfWeek[date.getDay()]}}</span> <span class="month">{{ (date.getMonth() + 1) + "/" }}</span><span class="date">{{date.getDate() }}</span>\r\n	</div>\r\n	<div>\r\n	</div>\r\n</div>\r\n\r\n<div class="cal-container">\r\n	<div class="cal-calendar-grid">\r\n		<div ng-repeat="i in [] | range:calendar.viewStart:calendar.viewEnd:.5" ng-class="{ \'cal-hourMark\' : i % 1 == 0, \'cal-halfHourMark\' : i % 1 != 0 }" style="height:{{calendar.cellHeight + \'px\'}};"></div><!--ng-class="i % 1 == 0 ? \'cal-hourMark\' : \'cal-halfHourMark\'"></div>-->\r\n	</div>\r\n	<cal-event ng-repeat="event in day.events" event="event.event" ng-class="event.event.class" calendar="calendar" on-event-change="onEventChange" on-event-click="onEventClick" event-left="event.location.left" event-width="event.location.width" start-time="startTime" end-time="endTime"> <!--style="width:{{event.location.width}}; left: {{event.location.left}};">-->\r\n	</cal-event>\r\n</div>'),a.put("calEvent.html",'<!--<div class="cal-event-wrapper">\r\n	<div class="cal-event-head">{{ (event.start.getHours() % 12 == 0 ? 12 : event.start.getHours() % 12) + ":" + (event.start.getMinutes() < 10 ? "0" : "") + event.start.getMinutes() + " - " + (event.end.getHours() % 12 == 0 ? 12 : event.end.getHours() % 12) + ":" + (event.end.getMinutes() < 10 ? "0" : "") + event.end.getMinutes() }}</div>\r\n	<div class="cal-event-body">{{ event.empName }}<br />{{ event.title }}</div>\r\n	<label ng-show="event.edit" class="cal-resize"></label>\r\n</div>-->\r\n\r\n\r\n    <div class="cal-event-head">{{ (event.start.getHours() % 12 == 0 ? 12 : event.start.getHours() % 12) + ":" + (event.start.getMinutes() < 10 ? "0" : "") + event.start.getMinutes() + " - " + (event.end.getHours() % 12 == 0 ? 12 : event.end.getHours() % 12) + ":" + (event.end.getMinutes() < 10 ? "0" : "") + event.end.getMinutes() }}</div>\r\n    <div class="cal-event-body">{{ event.empName }}<br />{{ event.title }}</div>\r\n    <!--<label ng-show="event.edit" class="cal-resize"></label>-->\r\n'),a.put("calHeader.html",'<div class="cal-header">\r\n    <h1 cal-title></h1>\r\n    <div>\r\n        <div class="left">\r\n            <button cal-today>Today</button>\r\n            <button cal-previous>Prev</button>\r\n            <button cal-next>Next</button>\r\n        </div>\r\n        <div class="right">\r\n            <button cal-view-toggle cal-list-class="on" cal-schedule-class="">List View</button>\r\n            <button cal-durration-btn="month" cal-selected-class="on">Month</button>\r\n            <button cal-durration-btn="week" cal-selected-class="on">Week</button>\r\n            <button cal-durration-btn="day" cal-selected-class="on">Day</button>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("calWeek.html",' <table>\r\n	<tr>\r\n		<td>\r\n			<div class="cal-timelabel">\r\n				<div class="cal-day-header">\r\n                    <div class="cal-down" ng-click="down()" ng-hide="end == 24"></div>\r\n                    <div class="cal-up" ng-click="up()" ng-hide="start == 0"></div>\r\n                </div>\r\n				<div class="cal-calendar-grid">\r\n					<div ng-repeat="i in [] | range:start:end:.5" class="{{i%1==0?\'cal-hourMark\':\'cal-halfHourMark\'}}" style="height:{{calendar.cellHeight + \'px\'}};">\r\n						<div>{{ (i+.5)%1 == 0 && (i+.5) != end ? ((i+.5) % 12 == 0 ? "12" : (i+.5) % 12) + ((i+.5) >= 12 ? " pm" : " am") : \'\' }}</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</td>\r\n		<!--<td ng-repeat="index in [] | range:(week * 7): Math.min(calendar.days.length, (week * 7) + 7 )" class="cal-day" ng-class="{ \'cal-placeholder\' : calendar.days[index].isPlaceholder, \'cal-past\' : calendar.days[index].date.getTime() < calendar.today.getTime(), \'cal-today\' : calendar.days[index].date.getTime() == calendar.today.getTime() }">-->\r\n		<td ng-repeat="day in days" class="cal-day" ng-class="{ \'cal-placeholder\' : day.isPlaceholder , \'cal-past\' : day.date.getTime() < today.getTime(), \'cal-today\' : day.date.getTime() == today.getTime() }">\r\n			<cal-day calendar="calendar" day="day" on-event-click="onEventClick" on-event-change="onEventChange" on-time-select="onTimeSelect" start-time="start" end-time="end"></cal-day>\r\n		</td>\r\n	</tr>\r\n</table>')}]);